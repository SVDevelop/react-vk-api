{"ast":null,"code":"import _objectSpread from \"/home/serg/Documents/react/react-vk-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/serg/Documents/react/react-vk-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/home/serg/Documents/react/react-vk-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"initValue\", \"onEnter\", \"onKeyUp\"];\n\nvar _jsxFileName = \"/home/serg/Documents/react/react-vk-api/src/components/Input.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport useDebounce from \"../hooks/useDebounse\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Input(props) {\n  _s();\n\n  var initValue = props.initValue,\n      onEnter = props.onEnter,\n      _props$onKeyUp = props.onKeyUp,\n      onKeyUp = _props$onKeyUp === void 0 ? function () {} : _props$onKeyUp,\n      datum = _objectWithoutProperties(props, _excluded);\n\n  var _useState = useState(initValue),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var handler = useDebounce(function (value) {\n    value && onEnter(value);\n  }, 1000);\n  useEffect(function () {\n    setValue(initValue);\n  }, [initValue]);\n  var keyUpHandler = useCallback(function (e) {\n    onKeyUp(e);\n\n    if (e.key === \"Enter\") {\n      onEnter(value);\n    }\n  }, [onKeyUp, onEnter, value]);\n  return /*#__PURE__*/_jsxDEV(\"input\", _objectSpread({\n    type: \"text\",\n    value: value // onChange={(e) => setValue(e.target.value)}\n    ,\n    onChange: function onChange(e) {\n      var value = e.target.value;\n      setValue(value);\n      handler(value);\n    },\n    onKeyUp: keyUpHandler\n  }, datum), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Input, \"wiVop+m64PektE/MTnh7htHHt6M=\", false, function () {\n  return [useDebounce];\n});\n\n_c = Input;\nInput.propTypes = {\n  initValue: PropTypes.string.isRequired,\n  onEnter: PropTypes.func.isRequired\n};\nInput.defaultProps = {\n  initValue: \"\",\n  onEnter: function onEnter() {}\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Input\");","map":{"version":3,"sources":["/home/serg/Documents/react/react-vk-api/src/components/Input.js"],"names":["useCallback","useEffect","useState","PropTypes","useDebounce","Input","props","initValue","onEnter","onKeyUp","datum","value","setValue","handler","keyUpHandler","e","key","target","propTypes","string","isRequired","func","defaultProps"],"mappings":";;;;;;;;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;;AAEA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAAA;;AACnC,MAAQC,SAAR,GAA6DD,KAA7D,CAAQC,SAAR;AAAA,MAAmBC,OAAnB,GAA6DF,KAA7D,CAAmBE,OAAnB;AAAA,uBAA6DF,KAA7D,CAA4BG,OAA5B;AAAA,MAA4BA,OAA5B,+BAAsC,YAAM,CAAE,CAA9C;AAAA,MAAmDC,KAAnD,4BAA6DJ,KAA7D;;AAEA,kBAA0BJ,QAAQ,CAACK,SAAD,CAAlC;AAAA;AAAA,MAAOI,KAAP;AAAA,MAAcC,QAAd;;AAEA,MAAMC,OAAO,GAAGT,WAAW,CAAC,UAACO,KAAD,EAAW;AACrCA,IAAAA,KAAK,IAAIH,OAAO,CAACG,KAAD,CAAhB;AACD,GAF0B,EAExB,IAFwB,CAA3B;AAIAV,EAAAA,SAAS,CAAC,YAAM;AACdW,IAAAA,QAAQ,CAACL,SAAD,CAAR;AACD,GAFQ,EAEN,CAACA,SAAD,CAFM,CAAT;AAIA,MAAMO,YAAY,GAAGd,WAAW,CAC9B,UAACe,CAAD,EAAO;AACLN,IAAAA,OAAO,CAACM,CAAD,CAAP;;AAEA,QAAIA,CAAC,CAACC,GAAF,KAAU,OAAd,EAAuB;AACrBR,MAAAA,OAAO,CAACG,KAAD,CAAP;AACD;AACF,GAP6B,EAQ9B,CAACF,OAAD,EAAUD,OAAV,EAAmBG,KAAnB,CAR8B,CAAhC;AAWA,sBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAEA,KAFT,CAGE;AAHF;AAIE,IAAA,QAAQ,EAAE,kBAACI,CAAD,EAAO;AACf,UAAQJ,KAAR,GAAkBI,CAAC,CAACE,MAApB,CAAQN,KAAR;AACAC,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACAE,MAAAA,OAAO,CAACF,KAAD,CAAP;AACD,KARH;AASE,IAAA,OAAO,EAAEG;AATX,KAUMJ,KAVN;AAAA;AAAA;AAAA;AAAA,UADF;AAcD;;GAtCuBL,K;UAKND,W;;;KALMC,K;AAwCxBA,KAAK,CAACa,SAAN,GAAkB;AAChBX,EAAAA,SAAS,EAAEJ,SAAS,CAACgB,MAAV,CAAiBC,UADZ;AAEhBZ,EAAAA,OAAO,EAAEL,SAAS,CAACkB,IAAV,CAAeD;AAFR,CAAlB;AAKAf,KAAK,CAACiB,YAAN,GAAqB;AACnBf,EAAAA,SAAS,EAAE,EADQ;AAEnBC,EAAAA,OAFmB,qBAET,CAAE;AAFO,CAArB","sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport useDebounce from \"../hooks/useDebounse\"\n\nexport default function Input(props) {\n  const { initValue, onEnter, onKeyUp = () => {}, ...datum } = props;\n\n  const [value, setValue] = useState(initValue);\n\n  const handler = useDebounce((value) => {\n    value && onEnter(value);\n  }, 1000);\n\n  useEffect(() => {\n    setValue(initValue);\n  }, [initValue]);\n\n  const keyUpHandler = useCallback(\n    (e) => {\n      onKeyUp(e);\n\n      if (e.key === \"Enter\") {\n        onEnter(value);\n      }\n    },\n    [onKeyUp, onEnter, value]\n  );\n\n  return (\n    <input\n      type=\"text\"\n      value={value}\n      // onChange={(e) => setValue(e.target.value)}\n      onChange={(e) => {\n        const { value } = e.target;\n        setValue(value);\n        handler(value);\n      }}\n      onKeyUp={keyUpHandler}\n      {...datum}\n    />\n  );\n}\n\nInput.propTypes = {\n  initValue: PropTypes.string.isRequired,\n  onEnter: PropTypes.func.isRequired\n};\n\nInput.defaultProps = {\n  initValue: \"\",\n  onEnter() {}\n};\n"]},"metadata":{},"sourceType":"module"}